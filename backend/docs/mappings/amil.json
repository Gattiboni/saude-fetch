{
  "operator": "amil",
  "url": "https://www.amil.com.br/para-voce/saude/rede-credenciada",
  "steps": [
    {
      "action": "navigate",
      "target": "https://www.amil.com.br/para-voce/saude/rede-credenciada",
      "wait_for": "#cpf_input, input[name='cpf']",
      "timeout_ms": 15000
    },
    {
      "action": "click",
      "selector": "#onetrust-accept-btn-handler, button[data-testid='accept-all'], button[aria-label*='aceitar']",
      "optional": true,
      "delay": 0.5
    },
    {
      "action": "fill",
      "selector": "#cpf_input, input[name='cpf']",
      "value": "{identifier}"
    },
    {
      "action": "keypress",
      "selector": "#cpf_input, input[name='cpf']",
      "key": "Enter"
    },
    {
      "action": "wait_for",
      "selector": "#plan-input_input, .input-redux__error",
      "timeout_ms": 15000
    }
  ],
  "result_parsing": {
    "status_selector": "#plan-input_input .rw-input, .input-redux__error",
    "positive_keywords": [
      "rede",
      "plano",
      "beneficiário",
      "ouro",
      "prata",
      "bronze"
    ],
    "negative_keywords": [
      "campo obrigatório",
      "cpf inválido",
      "não encontramos",
      "preencha",
      "erro"
    ],
    "error_keywords": [
      "erro",
      "inválido",
      "não encontrado"
    ],
    "plan_selector": "#plan-input_input .rw-input",
    "plan_optional": true
  },
  "notes": "Após preencher o campo #cpf_input e pressionar Enter, o componente #plan-input_input exibe o nome do plano. Quando o CPF é inválido, um elemento com classe .input-redux__error aparece com o texto 'Campo obrigatório'."
}
